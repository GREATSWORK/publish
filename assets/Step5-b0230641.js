import{f as y,u as k,e as D,r as j,v as x,x as h,A as u,C as p,j as e,m as f,D as c,E as S}from"./index-ff6bc3cd.js";import{P as L}from"./Page-0e90bb1b.js";import{I as n}from"./IconCheck-07737334.js";import{S as C}from"./index-3d772d4d.js";import"./formatNumber-38c26ec4.js";function B(){const l=y(),N=k(),{origin:v,client:a,rental:s,checkout:i,offer:r,reservation:o}=D(m=>m.booking);j.useEffect(()=>{!x(s)&&!h(r)&&!u(i)&&!p(a)&&l("/booking/step-4")},[]),j.useEffect(()=>{o&&l("/confirmation")},[o]);const b=async()=>{if(x(s)&&h(r)&&u(i)&&p(a)){const m={oferta:r,origin:v,client:{email:a.email,nombre:a.firstName,apellidos:a.lastName,mayor21:a.iamOlder21Years,codigoPais:a.countryCode,telefono:a.phone},salidaLocalizacionId:s.pickupLocation.value,entradaLocalizacionId:s.returnLocation.value,numeroDias:s.numberOfDays,numeroVuelo:a.flightNumber,comentarios:a.comments,fechaSalida:f(`${s.pickupDate} ${s.pickupTime}`,c).format(c),fechaEntrada:f(`${s.returnDate} ${s.returnTime}`,c).format(c),subtotal:i.subtotal,impuesto:i.tax,total:i.total,ReservaDetalles:i.detail.map((t,d)=>({nro:d,concepto:t.name,cantidad:t.quantity,precio:t.price,subTotal:t.subtotal}))};await new Promise((t,d)=>{N(S(m)).then(()=>{t()}).catch(g=>{d(g)})}),o!=null&&l("/confirmation")}};return x(s)&&h(r)&&u(i)&&p(a)&&e.jsx(L,{className:"container py-5",title:"Rent a Car Cusco",children:e.jsx("div",{className:"container my-5 ",children:e.jsxs("div",{className:"row ",children:[e.jsxs("div",{className:"col-12 col-md-6 ",children:[e.jsx("h1",{children:"Detail your Booking"}),e.jsx("h3",{children:"Booking"}),e.jsxs("div",{className:"ml-2",children:[e.jsx("div",{className:"d-flex align-items-center",children:e.jsxs("p",{className:"mb-0",children:[e.jsx("strong",{children:"Pickup Location: "}),s.pickupLocation.label]})}),e.jsx("div",{className:"d-flex align-items-center",children:e.jsxs("p",{className:"mb-0",children:[e.jsx("strong",{children:"Return Location: "}),s.returnLocation.label]})}),e.jsx("div",{className:"d-flex align-items-center",children:e.jsxs("p",{className:"mb-0",children:[e.jsx("strong",{children:"Pickup Date: "}),s.pickupDate]})}),e.jsx("div",{className:"d-flex align-items-center",children:e.jsxs("p",{className:"mb-0",children:[e.jsx("strong",{children:"Return Date: "}),s.returnDate]})})]}),e.jsx("br",{}),e.jsx("h3",{children:"Your offer includes"}),e.jsxs("div",{className:"ml-2",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(n,{}),e.jsx("p",{className:"mb-0",children:"Third party insurance."})]}),e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(n,{}),e.jsx("p",{className:"mb-0 ",children:"Loss Damage Waiver."})]}),e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(n,{}),e.jsx("p",{className:"mb-0",children:"Includes Unlimited Free Kilometers."})]})]}),e.jsx("br",{}),e.jsx("h3",{children:"Driver requirements"}),e.jsxs("div",{className:"ml-2",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(n,{}),e.jsx("p",{className:"mb-0",children:"Driver at least 21 years old."})]}),e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(n,{}),e.jsx("p",{className:"mb-0",children:"At least 2 years of driving license."})]})]}),e.jsxs("div",{className:"row mx-0 my-5",children:[e.jsx("p",{className:"ml-2 mb-0",children:"By clicking the button, I confirm that I've read and accepted the rental information and the terms and conditions."}),e.jsx("button",{onClick:b,type:"button",className:"btn btn-primary rounded-3 py-3 text-white",style:{fontSize:"1.75rem"},children:"BOOK NOW"})]})]}),e.jsx("div",{className:"col-12 col-md-6 ",children:e.jsx(C,{})})]})})})}export{B as default};
